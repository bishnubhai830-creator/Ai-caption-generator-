<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free AI Caption Generator: Create Viral Social Media Captions Instantly - ViralCap AI</title>
    <meta name="description" content="Generate 5 free viral captions daily with our AI caption generator. Optimized for Instagram, TikTok, Twitter with SEO and trending phrases.">
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <meta name="keywords" content="free AI caption generator, viral Instagram captions AI, best social media caption ideas 2025, SEO optimized TikTok captions">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <style>
        body { font-family: 'Roboto', sans-serif; background: linear-gradient(135deg, #f3f4f6, #e5e7eb); }
        h1, h2, h3, h4, h5, h6 { font-family: 'Poppins', sans-serif; }
        .caption-card { transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .caption-card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0, 123, 255, 0.15); }
        .error-message { background: linear-gradient(135deg, #f8d7da, #f5c6cb); color: #721c24; border: 1px solid #f5c6cb; border-radius: 8px; padding: 16px; }
        .loading-spinner { border: 4px solid #f3f3f3; border-top: 4px solid #007BFF; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .gradient-btn { background: linear-gradient(90deg, #007BFF, #00FF7F); }
        .gradient-btn:hover { background: linear-gradient(90deg, #0051a8, #00cc66); }
        .gradient-btn:disabled { background: #d1d5db; cursor: not-allowed; }
    </style>
</head>
<body class="bg-gray-50">
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <span class="text-blue-600 font-bold text-2xl">ViralCap AI</span>
                    <div class="hidden md:ml-6 md:flex md:space-x-8">
                        <a href="index.html" class="text-gray-600 hover:text-blue-600 px-3 py-2 text-sm font-medium">Home</a>
                        <a href="generator.html" class="text-blue-600 border-b-2 border-blue-600 px-3 py-2 text-sm font-medium">Generator</a>
                        <a href="blog.html" class="text-gray-600 hover:text-blue-600 px-3 py-2 text-sm font-medium">Blog</a>
                        <a href="pricing.html" class="text-gray-600 hover:text-blue-600 px-3 py-2 text-sm font-medium">Pricing</a>
                        <a href="about.html" class="text-gray-600 hover:text-blue-600 px-3 py-2 text-sm font-medium">About</a>
                        <a href="contact.html" class="text-gray-600 hover:text-blue-600 px-3 py-2 text-sm font-medium">Contact</a>
                    </div>
                </div>
                <div class="flex items-center">
                    <span class="text-sm text-gray-600 mr-4" id="captionCounter">5/5 captions today</span>
                </div>
            </div>
        </div>
    </nav>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div class="grid lg:grid-cols-4 gap-8">
            <div class="lg:col-span-1">
                <div class="bg-white rounded-xl p-6 shadow-lg sticky top-24">
                    <h3 class="font-bold text-lg mb-4 text-blue-600">Pro Tips</h3>
                    <div class="space-y-4">
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-blue-600 mb-2">Trend Alert 2025</h4>
                            <p class="text-sm text-gray-600">Use "Scene samjhe ya samjhau?" for viral meme vibes!</p>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-green-600 mb-2">Hashtag Strategy</h4>
                            <p class="text-sm text-gray-600">Blend trending and niche hashtags for max reach.</p>
                        </div>
                        <div class="bg-gray-100 p-4 rounded-lg">
                            <h4 class="font-semibold mb-2">Engagement Boost</h4>
                            <p class="text-sm text-gray-600">Ask questions to spark comments and interactions.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-3">
                <h1 class="text-3xl md:text-4xl font-bold mb-2 text-gray-800">Free AI Caption Generator: Create Viral Social Media Captions Instantly</h1>
                <p class="text-gray-600 mb-8">Generate 5 free optimized captions daily. Share on social media for bonus captions!</p>
                
                <div class="bg-white rounded-xl p-6 shadow-lg mb-8">
                    <form id="captionForm">
                        <div class="grid md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Describe your post</label>
                                <input type="text" placeholder="e.g., funny cat meme, beach sunset motivational" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Platform</label>
                                <select class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option>Instagram</option>
                                    <option>TikTok</option>
                                    <option>Twitter</option>
                                    <option>Facebook</option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Tone</label>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                <label class="flex items-center">
                                    <input type="radio" name="tone" value="funny" class="mr-2">
                                    Funny
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="tone" value="inspirational" class="mr-2">
                                    Inspirational
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="tone" value="witty" class="mr-2">
                                    Witty
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="tone" value="casual" class="mr-2">
                                    Casual
                                </label>
                            </div>
                        </div>
                        <button type="submit" id="generateBtn" class="w-full gradient-btn text-white py-4 rounded-lg font-bold text-lg transition duration-300">
                            Generate Viral Captions
                        </button>
                    </form>
                </div>

                <div id="captionsOutput" class="space-y-4"></div>
            </div>
        </div>
    </div>

    <script>
        let captionsGenerated = 0;
        const maxCaptions = 5;
        let isGenerating = false;

        if (localStorage.getItem('captionsGenerated')) {
            captionsGenerated = parseInt(localStorage.getItem('captionsGenerated'));
        }
        updateCounter();

        document.getElementById('captionForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            if (isGenerating) return;
            if (captionsGenerated >= maxCaptions) {
                showLimitPopup();
                return;
            }

            const generateBtn = document.getElementById('generateBtn');
            generateBtn.disabled = true;
            isGenerating = true;

            const prompt = this.querySelector('input[type="text"]').value;
            const platform = this.querySelector('select').value;
            const tone = this.querySelector('input[name="tone"]:checked')?.value || 'casual';
            
            if (!prompt.trim()) {
                const output = document.getElementById('captionsOutput');
                output.innerHTML = '<div class="error-message text-center py-8">Bhai, describe your post to generate captions!</div>';
                generateBtn.disabled = false;
                isGenerating = false;
                return;
            }
            
            await generateCaptions(prompt, platform, tone);
            captionsGenerated++;
            localStorage.setItem('captionsGenerated', captionsGenerated.toString());
            updateCounter();
            generateBtn.disabled = false;
            isGenerating = false;
        });

        function detectLanguage(prompt) {
            const hindiRegex = /[\u0900-\u097F]/; // Devanagari script for Hindi
            const hasHindi = hindiRegex.test(prompt);
            const hasEnglish = /[a-zA-Z]/.test(prompt);
            
            if (hasHindi && hasEnglish) return 'hinglish';
            if (hasHindi) return 'hindi';
            return 'english';
        }

        async function generateCaptions(prompt, platform, tone) {
            const output = document.getElementById('captionsOutput');
            output.innerHTML = '<div class="text-center py-8"><div class="loading-spinner mx-auto"></div><p class="text-gray-600 mt-4">Bhai, thodi der... viral captions ban rahe hain!</p></div>';
            
            const apiKey = 'AIzaSyDEckKpmuES31alvbsgAg-v4HDvPQvjl7Y';
            const language = detectLanguage(prompt);
            let languageInstruction = '';
            
            if (language === 'hindi') {
                languageInstruction = 'Generate captions in Hindi, keeping them natural and engaging.';
            } else if (language === 'hinglish') {
                languageInstruction = 'Generate captions in Hinglish (mix of Hindi and English), keeping them natural, trendy, and conversational.';
            } else {
                languageInstruction = 'Generate captions in English, keeping them natural and engaging.';
            }

            try {
                console.log(`Sending API request for prompt: "${prompt}", platform: ${platform}, tone: ${tone}, language: ${language}`);
                const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${apiKey}`;
                const data = {
                    contents: [{
                        parts: [{
                            text: `${languageInstruction} Generate 5 natural, engaging, and viral-potential captions for a ${platform} post about "${prompt}" in a ${tone} tone. Analyze the description for key themes (e.g., "Chashma" for eyewear/glasses stories, "Tales" for narratives, "HatTrick" for achievements/sports wins, "Hub" for community/content hub) and incorporate relevant SEO keywords and trending terms for 2025 (e.g., #EyewearTrends, #AchievementVibes, #StoryHub, meme culture for TikTok, storytelling for Instagram, concise wit for Twitter, community focus for Facebook). Start with a catchy hook, keep captions short (under 150 chars for Twitter, crisp for others), use 1-2 emojis, include a question or CTA for engagement, ensure authenticity, and add 3-5 SEO-optimized hashtags including #ViralCapAI. Avoid copying the input. Format as a numbered list.`
                        }]
                    }]
                };

                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });

                if (!response.ok) {
                    const errorText = await response.text();
                    throw new Error(`API error: ${response.status} - ${errorText}`);
                }

                const result = await response.json();
                if (!result.candidates || !result.candidates[0]?.content?.parts?.[0]?.text) {
                    throw new Error('Invalid API response: No valid captions returned');
                }

                const generatedText = result.candidates[0].content.parts[0].text;
                const captions = generatedText.split('\n').filter(line => line.trim()).map(line => line.replace(/^\d+\.\s*/, ''));

                if (captions.length === 0) {
                    throw new Error('No captions generated from API response');
                }

                displayCaptions(captions.slice(0, 5));
                createConfetti();
            } catch (error) {
                console.error('Caption generation failed:', error);
                output.innerHTML = `<div class="error-message text-center py-8">Bhai, kuch gadbad hui: ${error.message}. Try again ya new API key bana at https://aistudio.google.com/app/apikey!</div>`;
            }
        }

        function displayCaptions(captions) {
            const output = document.getElementById('captionsOutput');
            output.innerHTML = '';

            captions.forEach((caption, index) => {
                const card = document.createElement('div');
                card.className = 'bg-white caption-card rounded-xl p-6 shadow-lg border border-blue-100';
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <span class="bg-blue-100 text-blue-600 px-3 py-1 rounded-full text-sm">Caption ${index + 1}</span>
                        <button onclick="copyToClipboard('${caption.replace(/'/g, "\\'")}')" class="text-gray-600 hover:text-blue-600">
                            <i data-feather="copy"></i>
                        </button>
                    </div>
                    <p class="text-gray-800 mb-4 text-lg">${caption}</p>
                    <div class="flex flex-wrap gap-2">
                        <span class="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm">#ViralCapAI</span>
                    </div>
                `;
                output.appendChild(card);
            });

            feather.replace();
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('Caption copied to clipboard! 📋');
            }).catch(err => {
                console.error('Copy failed:', err);
                alert('Copy nahi hua, try again!');
            });
        }

        function showLimitPopup() {
            if (confirm("Bhai, 5 captions ho gaye! Social pe share kar 3 bonus captions ke liye. Abhi share kare?")) {
                window.open('https://twitter.com/intent/tweet?text=Check%20out%20ViralCap%20AI%20-%20the%20best%20free%20AI%20caption%20generator!%20%23ViralCapAI', '_blank');
            }
        }

        function updateCounter() {
            const counter = document.getElementById('captionCounter');
            if (counter) {
                counter.textContent = `${captionsGenerated}/${maxCaptions} captions today`;
            }
        }

        function createConfetti() {
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'fixed w-3 h-3 bg-blue-500 rounded-full pointer-events-none';
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.top = '-10px';
                    confetti.style.transition = 'all 2s ease-out';
                    document.body.appendChild(confetti);
                    setTimeout(() => {
                        confetti.style.transform = 'translateY(100vh)';
                        confetti.style.opacity = '0';
                    }, 50);
                    setTimeout(() => confetti.remove(), 2000);
                }, i * 50);
            }
        }

        feather.replace();
    </script>
</body>
</html>